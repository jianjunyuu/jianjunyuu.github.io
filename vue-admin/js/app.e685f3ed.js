(function(e){function t(t){for(var r,o,s=t[0],u=t[1],l=t[2],c=0,m=[];c<s.length;c++)o=s[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0c4df6":"e376017e","chunk-2d0dd0be":"1d98b825"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=o(e);var l=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}a[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-admin/",s.oe=function(e){throw e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"018b":function(e,t,n){},"0acb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{direction:"vertical"}},[n("layout-header"),n("el-container",{staticClass:"full-height"},[n("layout-aside"),n("layout-main")],1)],1)},a=[],i=n("9a87"),o=n("2a98"),s=n("74e2"),u={name:"Layout",components:{LayoutHeader:i["default"],LayoutAside:o["default"],LayoutMain:s["default"]}},l=u,c=n("2877"),d=Object(c["a"])(l,r,a,!1,null,"2a7a5ffe",null);t["default"]=d.exports},"11cf":function(e,t,n){},"2a68":function(e,t,n){var r={"./views/components/layout/Breadcrumb":["6358"],"./views/components/layout/Breadcrumb.vue":["6358"],"./views/components/layout/Layout":["0acb"],"./views/components/layout/Layout.vue":["0acb"],"./views/components/layout/LayoutAside":["2a98"],"./views/components/layout/LayoutAside.vue":["2a98"],"./views/components/layout/LayoutHeader":["9a87"],"./views/components/layout/LayoutHeader.vue":["9a87"],"./views/components/layout/LayoutMain":["74e2"],"./views/components/layout/LayoutMain.vue":["74e2"],"./views/permission/menu/Menu":["3d4c","chunk-2d0c4df6"],"./views/permission/menu/Menu.vue":["3d4c","chunk-2d0c4df6"],"./views/permission/role/Role":["805e","chunk-2d0dd0be"],"./views/permission/role/Role.vue":["805e","chunk-2d0dd0be"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="2a68",e.exports=a},"2a98":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-aside",{staticClass:"aside"},[n("i-menu",{attrs:{data:e.menus,"default-active":e.defaultActive,router:"","unique-opened":!0}})],1)},a=[],i={name:"LayoutAside",computed:{menus(){return this.$store.getters.menus},defaultActive(){let{name:e,meta:{node:t={}}}=this.$route;const n=function(e,t){return e?1===e.is_menu?e.name:n(e.parent,e.name):t};return n(t,e)}}},o=i,s=n("2877"),u=Object(s["a"])(o,r,a,!1,null,"5793584c",null);t["default"]=u.exports},"488a":function(e,t,n){"use strict";var r=n("018b"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ITableList",(function(){return Z})),n.d(r,"IMenu",(function(){return ee}));var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"App"},u=s,l=(n("488a"),n("2877")),c=Object(l["a"])(u,i,o,!1,null,null,null),d=c.exports,m=n("8c4f"),p=n("0acb"),f=n("2f62");const h="menus",v=function(e,t){localStorage.setItem(e,t)};function g(){return async e=>{e.commit("setRouteTree",n("ddb9").default),e.subscribe(e=>{let{type:t,payload:n}=e;switch(t){case"setToken":break;case"setRouteTree":v(h,JSON.stringify(n));break}})}}const y=n("5868");function b(e=[],t=null,n={}){return e.map((function(e){return e.parent=t,n[e.name]=e,{name:e.name,path:_(e),component:j(e),redirect:w(e),props:!0,meta:{node:e},children:e.children&&e.children.length>0?b(e.children,e,n):[]}}))}function _(e){let t="",n=e;while(n){if(t="/"+n.path.replace(/^\//,"")+t,""===t)return"";n=n.parent}return t}function w(e){let{children:t}=e,n=t.findIndex(e=>1===e["is_menu"]);return-1===n?null:{name:t[n].name}}function j(e){return y[e.name]?()=>n("2a68")("./views"+y[e.name]):null}a["default"].use(f["a"]);var x=new f["a"].Store({state:{routeTree:[],permissions:{}},getters:{menus:e=>{const t=function(e=[]){return e.map(e=>{let{name:n,meta:{node:r={}},children:a=[]}=e;return{title:r["title"],icon:r["icon"],index:n,children:t(a)}})};return t(e.routeTree)}},mutations:{setRouteTree(e,t){const n={};e.routeTree=b(t,null,n),e.permissions=n}},actions:{},modules:{},plugins:[g()]});a["default"].use(m["a"]);const O=function(){let e=S(P(x.state.routeTree||[]));e.length>0&&k.addRoutes([{path:"/",component:p["default"],redirect:{name:e[0]["name"]},children:e}])};function P(e=[]){let t=[];return e.forEach(e=>{t.push({...e,children:[]}),t=t.concat(L(e.children))}),t}function L(e){let t=[];return e.forEach(e=>{0===e.children.length?t.push(e):(t=[...t,...L(e.children)],t.push(Object.assign({},e,{children:[]})))}),t}function S(e){const t=[];return e.forEach((function(e){const n=e.path.match(/:[^/]+$/);n?t.push(e):t.unshift(e)})),t}const k=new m["a"]({mode:"hash",routes:[]});O();var E=k,$=(n("11cf"),n("0fae"),n("5c96")),C=n.n($),A=n("ce5d"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"i-table-list"},[n("el-table",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.data||e.lists}},"el-table",e.$attrs,!1),e.$listeners),[e.selection?n("el-table-column",{attrs:{type:"selection",selectable:e.selectable,width:"60"}}):e._e(),e._l(e.columns,(function(t,r){return n("el-table-column",e._b({key:r,scopedSlots:e._u([{key:"header",fn:function(n){return[e._t(t.slotsName&&t.slotsName.header,[e._v(" "+e._s(t.label)+" ")],{column:t})]}},{key:"default",fn:function(n){return[e._t(t.slotsName&&t.slotsName.default,[e._v(" "+e._s(e._getValue(t.prop,n))+" ")],{scope:n})]}}],null,!0)},"el-table-column",t,!1))}))],2),e.showPager?n("el-pagination",{staticClass:"i-table-list_pager",style:{textAlign:e.pagerPosition},attrs:{disabled:e.loading,background:"",layout:e.pagerLayout.join(","),total:e.total,"page-sizes":e.pagerSizes,"page-size":e.currentSize,"current-page":e.currentPage},on:{"size-change":e._handleSizeChange,"current-change":e._handlePageChange}}):e._e()],1)},T=[],z={name:"ITableList",props:{columns:{type:Array,validator:e=>e.every(e=>{const t=["label","prop"];return e instanceof Object&&t.every(t=>e.hasOwnProperty(t))}),required:!0},paramsConfig:{type:Object,default:()=>({currentSize:"length",currentPage:"page"})},showList:{type:Boolean,default:!0},showPager:{type:Boolean,default:!0},pagerLayout:{type:Array,default:()=>["total","sizes","prev","pager","next","jumper"]},pagerSizes:{type:Array,default:()=>[10,20,50,100],validator:e=>e&&Array.isArray(e)&&e.length>0},data:{type:Array},onFetch:{type:Function},autoFetch:{type:Boolean,default:!0},pagerPosition:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},selection:{type:Boolean,default:!1},selectable:{type:Function,default:()=>!0}},data(){return{loading:!1,currentPage:1,currentSize:this.pagerSizes[0],total:0,lists:[]}},created(){!this.data&&this.autoFetch&&this.fetch(),this.$nextTick(()=>{let e=this.$refs.table,t=["clearSelection","toggleRowSelection","toggleAllSelection","toggleRowExpansion","setCurrentRow","clearSort","clearFilter","doLayout","sort"];for(let n in e)t.includes(n)&&(this[n]=e[n])})},methods:{_getValue(e="",t){return e.split(".").reduce((e,t)=>e[t],t.row)},_getParams(){let e={};return Object.entries(this.paramsConfig).forEach(([t,n])=>{e[n]=this[t]}),e},_handlePageChange(e){this.currentPage=e,this.$emit("current-change",e),this.fetch()},_handleSizeChange(e){this.currentSize=e,this.$emit("size-change",e),this.fetch()},fetch(){this.loading=!0,this.onFetch(this._getParams()).then(e=>{this.lists=e.data.data;let t=Number(e.headers["x-total-count"]);0===this.lists.length&&this.total>t&&this.currentPage>1&&(this.currentPage--,this.fetch()),this.total=t}).finally(()=>{this.loading=!1})},mapList(e=(e=>e)){this.lists=e(this.lists)},setPage(e=1){this.currentPage=e}}},I=z,R=(n("59d3"),Object(l["a"])(I,M,T,!1,null,"69390b3e",null)),N=R.exports;N.install=function(e){e.component(N.name,N)};var B=N,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",e._g(e._b({style:{height:e.height}},"el-menu",e.$attrs,!1),e.$listeners),e._l(e.data,(function(e,t){return n("menu-item",{key:t,attrs:{menu:e}})})),1)},q=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.menu.children.length?n("el-menu-item",e._b({},"el-menu-item",e.menu,!1),[n("i",{class:e.menu.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.menu.title))])]):n("el-submenu",e._b({attrs:{index:e.menu.index}},"el-submenu",e.menu,!1),[n("template",{slot:"title"},[n("i",{class:e.menu.icon}),e._v(" "+e._s(e.menu.title)+" ")]),e._l(e.menu.children,(function(e,t){return n("i-menu-item",{key:t,attrs:{menu:e}})}))],2)},H=[],J={name:"IMenuItem",props:{menu:{type:Object,required:!0}}},U=J,D=Object(l["a"])(U,V,H,!1,null,"76615093",null),G=D.exports,K={name:"IMenu",components:{MenuItem:G},props:{data:{type:Array,required:!0},height:{type:String,default:"100%"}}},Q=K,W=Object(l["a"])(Q,F,q,!1,null,"06ce5928",null),X=W.exports;X.install=function(e){e.component(X.name,X)};var Y=X;const Z=B,ee=Y,te=Object.values(r),ne=function(e){te.forEach(t=>{e.component(t.name,t)})};"undefined"!==typeof window&&window.Vue&&ne(window.Vue);A.version;a["default"].use(C.a).use(ee).use(Z),a["default"].config.productionTip=!1,new a["default"]({store:x,router:E,render:e=>e(d)}).$mount("#app")},5868:function(e,t){e.exports={Menu:"/permission/menu/Menu.vue",Role:"/permission/role/Role.vue"}},"59d3":function(e,t,n){"use strict";var r=n("eb3a"),a=n.n(r);a.a},"5e1f":function(e,t,n){"use strict";var r=n("728f"),a=n.n(r);a.a},6358:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-breadcrumb",{staticClass:"Breadcrumb",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.paths,(function(t){return n("el-breadcrumb-item",{key:t.name,attrs:{to:{name:t.name}}},[e._v(" "+e._s(t.title)+" ")])})),1)],1)},a=[],i={name:"Breadcrumb",data(){return{}},computed:{paths(){let e=this.$route.meta["node"],t=[];while(e)t.unshift({title:e.title,name:e.name}),e=e.parent;return t}}},o=i,s=(n("f00e"),n("2877")),u=Object(s["a"])(o,r,a,!1,null,"1d288ba6",null);t["default"]=u.exports},"728f":function(e,t,n){},"74e2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",{staticClass:"main"},[n("breadcrumb"),n("router-view")],1)},a=[],i=n("6358"),o={name:"LayoutMain",components:{Breadcrumb:i["default"]}},s=o,u=n("2877"),l=Object(u["a"])(s,r,a,!1,null,"69df8d46",null);t["default"]=l.exports},"9a87":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-header",{staticClass:"header"},[n("div",{staticClass:"logo"},[n("h1",{staticClass:"title"},[e._v("Vue Admin")]),n("h4",{staticClass:"sub-title"},[e._v("基于Element UI的中台解决方案")])]),n("div",{})])},a=[],i={name:"LayoutHeader"},o=i,s=(n("5e1f"),n("2877")),u=Object(s["a"])(o,r,a,!1,null,"06ee40c2",null);t["default"]=u.exports},ce5d:function(e){e.exports=JSON.parse('{"name":"vue-element-components","version":"1.0.0","description":"基于Element UI的中台组件库","main":"src/index.js","files":["src","packages","types"],"_entry":"lib/index.js","_output":"lib/","types":"types","typings":"types/index.d.ts","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"author":"mryujianjun.cn@gmail.com","license":"ISC","dependencies":{},"devDependencies":{"element-ui":"^2.13.1","vue":"^2.6.11"},"homepage":"","repository":{"type":"git","url":"git+https://github.com/mryujianjun/vue-element-components.git"}}')},ddb9:function(e,t,n){"use strict";n.r(t),t["default"]=[{name:"Permission",path:"/permission",icon:"el-icon-s-home",title:"权限管理",is_menu:1,children:[{name:"Menu",path:"menu",icon:"el-icon-s-home",title:"菜单管理",is_menu:1,children:[]},{name:"Role",path:"role",icon:"el-icon-s-home",title:"角色管理",is_menu:1,children:[]}]}]},e8a4:function(e,t,n){},eb3a:function(e,t,n){},f00e:function(e,t,n){"use strict";var r=n("e8a4"),a=n.n(r);a.a}});
//# sourceMappingURL=app.e685f3ed.js.map